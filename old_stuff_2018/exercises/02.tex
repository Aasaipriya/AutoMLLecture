\documentclass{exam}
\usepackage{amsmath, amsfonts}
\usepackage{verbatim}
\usepackage{graphicx}
\usepackage[super]{nth}

\DeclareMathOperator*{\argmin}{argmin}

\usepackage[hyperfootnotes=false]{hyperref}

\usepackage[usenames,dvipsnames]{color}
\newcommand{\note}[1]{
	\noindent~\\
	\vspace{0.25cm}
	\fcolorbox{Red}{Orange}{\parbox{0.99\textwidth}{#1\\}}
	%{\parbox{0.99\textwidth}{#1\\}}
	\vspace{0.25cm}
}


\input{macros}
%\renewcommand{\hide}[1]{#1}

\qformat{\thequestion. \textbf{\thequestiontitle}\hfill[\thepoints]}
\bonusqformat{\thequestion. \textbf{\thequestiontitle}\hfill[\thepoints]}

\pagestyle{headandfoot}

%%%%%% MODIFY FOR EACH SHEET!!!! %%%%%%
\newcommand{\duedate}{28.10.18 (14:00)}
\newcommand{\due}{{\bf This assignment is due on \duedate.} }
\firstpageheader
{Due: \duedate \\ Points: 2}
{{\bf\lecture}\\ \assignment{2}}
{\lectors\\ \semester}

\runningheader
{Due: \duedate}
{\assignment{2}}
{\semester}
%%%%%% MODIFY FOR EACH SHEET!!!! %%%%%%

\firstpagefooter
{}
{\thepage}
{}

\runningfooter
{}
{\thepage}
{}

\headrule
\pointsinrightmargin
\bracketedpoints
\marginpointname{pt.}


\begin{document}
	\gccs
	Your next task is to get familiar with algorithm data and how to model an algorithms behavior
	on scenarios from the Algorithm Selection library (ASlib, \url{www.aslib.net}).  
	
	\bigskip
	
	For this exercise assignment, 
	we provide two (simplified) scenarios from ASlib: \texttt{SAT11-INDU} and \texttt{SAT11-RAND}.
	Each scenario consists of three files:
	\begin{itemize}
		\item \texttt{algorithm\_runs.arff}: performance of each algorithm on each instance
		\item \texttt{feature\_values.arff}: instance features of each instance 
		\item \texttt{cv.arff}: cross-validation splits
	\end{itemize}
	
	We recommend to use the Python package \texttt{liac-arff} to read these files\footnote{See \url{https://github.com/renatopp/liac-arff\#documentation}}.
	
	Both scenarios are runtime scenarios with a runtime cutoff ($\kappa$) of $5000$ seconds.
	To simplify your tasks, we will ignore costs induced by using instance features.
	Please note that some instance features can be missing -- you should use one of the functions provided by \texttt{sklearn} to impute these missing features (e.g., \texttt{from sklearn.preprocessing import Imputer}).
	
	\bigskip
	
	All tasks include the submission of some results (besides the code).
	To submit these results, please submit a PDF with all the results and your name(s).
	
	\begin{questions}
		
		
		\titledquestion{Single Best and Oracle Performance}[0.5]
		
			Given an ASlib scenario, your task is to read the \texttt{algorithm\_runs} files
			and to compute the PAR$10$\footnote{PAR$10$ is the penalized average runtime where a timeout is counted as $10 \cdot \kappa$.} performance of the Single Best algorithm (SB) and the oracle performance.
			
			The call of your implementation should be like:
			
			\begin{verbatim}
			python aslib.py --algoruns algorithm_runs.arff
			\end{verbatim}
			
			and the output should be like:
			
			\begin{verbatim}
			Oracle: 1.0
			SB: 2.0
			\end{verbatim}
			
			Please also report these values for both given scenarios ($\to$ PDF).
		
		
		\titledquestion{Regression Models}[1]
			Now that you know how to read the ASlib data, extend \texttt{aslib.py} to fit a simple regression model if the \texttt{--features} flag is present.
			You will have to impute the missing features as described above.
			To evaluate the quality of your model you will have to compute the cross-validation root mean squared error of the predictions.
			The code we provide you loads a specified \texttt{cv.arff} file and uses its contents to perform cross validation.
			
			As regression model you can use anything available in \texttt{sklearn} (You are not required to adjust the hyperparameters of the chosen regressor).
			In order to fit the model properly you will have to first construct the
			training and testing data.
			
			You can set the \texttt{-A/--Algo} to any of the algorithms present in the ASlib scenarios
			(e.g. \textit{EagleUP\_1.565.350} in \texttt{SAT11-RAND} or \textit{glucose\_2} in \texttt{SAT11-INDU}).
			Report the RMSE for at least two different algorithms per scenario.
	
			In your PDF-report, state which model you used and present the automatically generated plots.
			
		\titledquestion{Comparing different \texttt{sklearn} regression models}[.5]
			Compare the RMSE of at least two different regression models. For this task you can replace the model you used in the previous task with a new model.
			
		\titledquestion{Feedback}[Bonus: 1]
			For each question in this assignment, state:
			\begin{itemize}
				\item How long you worked on it.
				\item What you learned.
				\item Anything you would improve in this question if you were teaching the course.
			\end{itemize}
	\end{questions}

\noindent
\due Submit your solution for the tasks by uploading a PDF to your groups BitBucket repository. The PDF has to include the name of the submitter(s). Teams of at most $2$ students are allowed.
\end{document}