\pdfminorversion=4 % for acroread
%\documentclass[t]{beamer}
\documentclass[t,handout]{beamer}

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}

\usepackage{amsmath,amssymb}
\usepackage{listings}
\lstset{frame=lines,framesep=3pt,numbers=left,numberblanklines=false,basicstyle=\ttfamily\small}

\usepackage{subfig}
\usepackage{multicol}
\usepackage{appendixnumberbeamer}

\usepackage{tikz}
\usetikzlibrary{trees} 
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{positioning,shapes,shadows,arrows,calc,mindmap}
\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}
\tikzstyle{activity}=[rectangle, draw=white, rounded corners, text centered, text width=8em]
\tikzstyle{data}=[rectangle, draw=white, text centered, text width=8em]
\tikzstyle{myarrow}=[->, thick, draw=white]

% Define the layers to draw the diagram
\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}


\usepackage{listings}
\lstset{numbers=left,
  showstringspaces=false,
  frame={tb},
  captionpos=b,
  lineskip=0pt,
  basicstyle=\ttfamily,
  extendedchars=true,
  stepnumber=1,
  numberstyle=\small,
  xleftmargin=1em,
  breaklines
}

 

\usetheme{Madrid}
\useinnertheme{rectangles}
\usecolortheme{whale}
\setbeamercolor{alerted text}{fg=blue}
\useoutertheme{infolines}
\setbeamertemplate{navigation symbols}{\vspace{-5pt}} % to lower the logo
\setbeamercovered{invisible}

\makeatletter
\setbeamertemplate{footline}
{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
    \usebeamerfont{author in head/foot}\insertshortauthor
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
    \usebeamerfont{title in head/foot}\insertshorttitle
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
    \usebeamerfont{date in head/foot}\insertshortdate{}\hspace*{2em}
    \insertframenumber\hspace*{2ex} 
  \end{beamercolorbox}}%
  \vskip0pt%
}
\makeatother

\newcommand{\lit}[1]{{\footnotesize\color{black!70}[#1]}}
\newcommand{\litw}[1]{{\footnotesize\color{black!20}[#1]}}

\pgfdeclareimage[height=1.2cm]{coseallogo}{images/logos/coseal}
\pgfdeclareimage[height=1.2cm]{mlaad}{images/logos/ml4aad.png}
\pgfdeclareimage[height=1.2cm]{freiburg}{images/logos/freiburg}

\logo{\pgfuseimage{freiburg}}

\title[MLOAD]{Machine Learning and Optimization\\ for Algorithm Design}
\subtitle{ML in Python}
\author{Marius Lindauer}
\institute{University of Freiburg}
\date{}
%\date{LION 2015, Lille, France}

% \AtBeginSection[] % Do nothing for \section*
% {
%   \begin{frame}{Outline}
%     \bigskip
%     \vfill
%     \tableofcontents[currentsection]
%   \end{frame}
% }


\begin{document}

% ----------------------------------------------------------------------
{
\setbeamertemplate{footline}{} % remove footer on first slide
	\frame[c]{
	\titlepage
	\begin{center}
	\vspace{-1.5cm}
	%\includegraphics[height=5em]{images/logos/freiburg}\quad\quad
	%\includegraphics[height=5em]{logo/coseal}\quad
	\includegraphics[height=5em]{images/logos/ml4aad.png}
	\end{center}
	}
}
\author{Lindauer}
\institute{}
%\logo{\pgfuseimage{mlaad}}
\logo{}

%----------------------------------------------------------------------------------
%----------------------------------------------------------------------------------
\begin{frame}[c]{ML in Python}

There are a lot of machine learning packages in Python see e.g.,\\ 
{\small
\url{https://wiki.python.org/moin/PythonForArtificialIntelligence}}

\bigskip

We will focus on \emph{scikit klearn} (short: \texttt{sklearn}):\\
\url{http://scikit-learn.org/}

\end{frame}
%----------------------------------------------------------------------------------
%----------------------------------------------------------------------------------
\begin{frame}[c, fragile]{Numpy Example}

Sklearn is based on \texttt{numpy} (and other Python packages):

\small
\begin{verbatim}
>>> import numpy as np
>>> x = np.array([1,2,4,6], float)
>>> x
array([ 1.,  2.,  4.,  6.])
>>> x[:2] # first two elements
array([ 1.,  2.])
>>> X = np.array([[1,2,4,6],[7,8,9,0]], float)
>>> X
array([[ 1.,  2.,  4.,  6.],
       [ 7.,  8.,  9.,  0.]])
>>> X[:,0] # first column
array([ 1.,  7.])
>>> X[0,:] \# first row
array([ 1.,  2.,  4.,  6.])
>>> np.savetxt("numpy_array.np", X) # save array
>>> X = np.loadtxt("numpy_array.np") # load array
\end{verbatim}

\end{frame}
%----------------------------------------------------------------------------------
%----------------------------------------------------------------------------------
\begin{frame}[c, fragile]{Sklearn Example}

\small
\begin{verbatim}
import numpy as np
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import accuracy_score

X = np.loadtxt("set1/x_train.np")  
y = np.loadtxt("set1/y_train.np")  
    
rf = RandomForestClassifier(n_estimators=10)
rf.fit(X, y)
y_pred = rf.predict(X)
    
acc = accuracy_score(y, y_pred)
print("Accuracy on Train: %.4f" %(acc))
\end{verbatim}

\end{frame}
%----------------------------------------------------------------------------------
%----------------------------------------------------------------------------------
\begin{frame}[c]{Auto-Sklearn}

We provide a virtualbox where everything is already installed.\\
As an alternative, we recommend to use Anaconda $2.3.0$ for Python $2.7$\\
or to use a virtualenv to avoid conflicts with other installed packages. 

\bigskip

Auto-Sklearn can be found at\\
\url{https://github.com/automl/auto-sklearn}

\bigskip

\begin{block}{Virtualbox}
User: mload\\
Password: 123456\\
Requires at least 2GB RAM, 8GB hard disk space, 2 cores and 64MB graphic RAM.
\end{block}

\end{frame}
%----------------------------------------------------------------------------------
%----------------------------------------------------------------------------------
\begin{frame}[c, fragile]{Auto-Sklearn Example}

\small
\begin{verbatim}
import autosklearn
automl = autosklearn.AutoSklearnClassifier()
automl.fit(X_train, y_train)
print(automl.score(X_test,y_test))
\end{verbatim}

\normal
This will run for one hour should result in an accuracy above $0.98$ for the digits data set from \texttt{sklearn.datasets}.

\end{frame}
%----------------------------------------------------------------------------------
%----------------------------------------------------------------------------------
\begin{frame}[c]{Requirements for submission}

\begin{itemize}
  \item The program can be called as stated on the exercise sheet.
  \item The program exactly returns the required output (not less and not more) -- please a \emph{--verbose} option to increase the verbosity level.
  \item All functions and classes are documented with a docstring.
  \item Provide a README and (if necessary) an installation script if your program requires any other packages.
\end{itemize}

\bigskip

\alert{Submissions will get $0$ points if they do not satisfy these constraints.}

\end{frame}
%----------------------------------------------------------------------------------
%----------------------------------------------------------------------------------
% \begin{frame}[c]{ML in Python}
% 
% 
% \end{frame}
% %----------------------------------------------------------------------------------
% %----------------------------------------------------------------------------------
% \begin{frame}[c]{ML in Python}
% 
% 
% \end{frame}
%----------------------------------------------------------------------------------
%----------------------------------------------------------------------------------

\end{document}
