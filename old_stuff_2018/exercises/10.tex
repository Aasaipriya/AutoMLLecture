\documentclass{exam}
\usepackage{amsmath, amsfonts}
\usepackage{verbatim}
\usepackage{graphicx}
\usepackage[super]{nth}

\DeclareMathOperator*{\argmin}{argmin}

\usepackage[hyperfootnotes=false]{hyperref}

\usepackage[usenames,dvipsnames]{color}
\newcommand{\note}[1]{
	\noindent~\\
	\vspace{0.25cm}
	\fcolorbox{Red}{Orange}{\parbox{0.99\textwidth}{#1\\}}
	%{\parbox{0.99\textwidth}{#1\\}}
	\vspace{0.25cm}
}


\input{macros}
%\renewcommand{\hide}[1]{#1}

\qformat{\thequestion. \textbf{\thequestiontitle}\hfill[\thepoints]}
\bonusqformat{\thequestion. \textbf{\thequestiontitle}\hfill[\thepoints]}

\pagestyle{headandfoot}

%%%%%% MODIFY FOR EACH SHEET!!!! %%%%%%
\newcommand{\duedate}{13.01.19 (14:00)}
\newcommand{\due}{{\bf This assignment is due on \duedate.} }
\firstpageheader
{Due: \duedate \\ Points: 22}
{{\bf\lecture}\\ \assignment{10}}
{\lectors\\ \semester}

\runningheader
{Due: \duedate}
{\assignment{10}}
{\semester}
%%%%%% MODIFY FOR EACH SHEET!!!! %%%%%%

\firstpagefooter
{}
{\thepage}
{}

\runningfooter
{}
{\thepage}
{}

\headrule
\pointsinrightmargin
\bracketedpoints
\marginpointname{pt.}


\begin{document}
	\gccs
	Now that you know all about algorithm selection and algorithm configuration, you are able to tackle the per instance algorithm configuration problem.
	\begin{questions}
		\titledquestion{Hydra}[16]
		Your task is to implement Hydra in order to \textit{construct a portfolio}. To be able to decide for unseen instances, which configuration should be used,
		you could reuse your algorithm selection code (although it is not required for this exercise).
		The scenario contains three test instances on which you are to evaluate the final performance of your portfolio (report oracle performances).
		
		The simplest way to implement Hydra is to modify SMAC such that it can be called iteratively with an adapted performance metric. For that you can use
		the target algorithm evaluator (TAE) we already implemented for use with hydra (see \url{https://github.com/automl/SMAC3/blob/master/smac/tae/execute_ta_run_hydra.py}).
		
		The remaining steps for you to implement are:
		\begin{itemize}
			\item Implement the Hydra loop
			\item Validate the best configuration after each iteration on all test instances
			\item Keep track of the Portfolio performance
			\item Modify the performance metric (using the provided Hydra TAE)
		\end{itemize}
		
		To give you an understanding how an optimizer interacts with the provided target algorithm (\texttt{branin.py}) we've provided an example of how you
		were to call \textit{SMAC} to find a well performing configuration across all instances (see \texttt{runsmac.py}).
		
		The \textit{scenario} folder contains all necessary files you will need to solve the task. \texttt{scenario.txt} lists the maximum number of function evaluations.
		You should not use more function evaluations (per iteration) when running your PIAC system.
		
		The instance set consists of three subsets so you only need to run Hydra for at most 4 iterations.
		
		\titledquestion{Comparison}[6]
		Compare your systems performance against the best configuration you can find using only SMAC (\texttt{runsmac.py}) on the training as well as the test set.\\
		Generate scatter plots to visually compare SMAC against your PIAC system.
		
		\titledquestion{Feedback}[Bonus: 1]
		For each question in this assignment, state:
		\begin{itemize}
			\item How long you worked on it.
			\item What you learned.
			\item Anything you would improve in this question if you were teaching the course.
		\end{itemize}
		
	\end{questions}

\noindent
\due Submit your solution for the tasks by uploading a PDF to your groups BitBucket repository. The PDF has to include the name of the submitter(s). Teams of at most $2$ students are allowed.
\end{document}