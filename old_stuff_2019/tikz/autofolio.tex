\tikzstyle{activity}=[rectangle, draw=black, rounded corners, text centered, text width=8em, fill=white, drop shadow]
\tikzstyle{data}=[rectangle, draw=black, text centered, fill=black!10, text width=8em, drop shadow]
\tikzstyle{myarrow}=[->, thick]
\begin{tikzpicture}[node distance=4.5cm]
	\node (Data) [data] {Selection Scenario with data $\vec{D}_{train}$};
	\node (Split) [activity, below of=Data, yshift=3cm,text width=10em] {Randomly Split $\vec{D}_{train}$ into $\{\vec{D}^{(j)}_{train}\}_{j \in \{1 \ldots k\}}$};
	
	\node (CS) [data, right of=Data, xshift=0.5cm, text width=4cm] {Algorithm Selector $S$\\ and its Configuration\\ Space $\vec{C}$};
	\node (Select) [activity, below of=Split, node distance=2.0cm] {Select $c \in \vec{C}$ and $j \in \{1 \ldots k\}$};
	\node (Run) [activity, right of=Select, xshift=0.5cm] {Train $S_c$ on\\ $\vec{D}_{train} \backslash \vec{D}^{(j)}_{train}$};
	\node (Result) [activity, right of=Run, node distance=4.5cm] {Return Best\\ Configuration $\hat{c}$};
	\node (Eva) [activity, below of=Result, dashed, node distance=1.3cm] {Evaluate $P(S_{\hat{c}})$};

	\draw[myarrow] (Data) -- (Split);
	\draw[myarrow] (Split) -- ($(Select)+(-0.0,+0.8)$);
	\draw[myarrow] (CS) -- ($(Run)+(-0.0,+0.8)$);

	\draw[myarrow] ($(Run.east)+(0.25,0)$) -- (Result);
	\draw[myarrow] (Select) -- (Run);
	\draw[myarrow, dashed] (Result) -- (Eva);
	\draw[myarrow] (Run.south) |- ++(0.0,-0.8)  node[above, xshift=-2.7cm] {\small Return
	Performance on $\vec{D}^{(j)}_{train}$} -| (Select.south);

	\begin{pgfonlayer}{background}

    	\path (Select -| Select.west)+(-0.25,0.85) node (resUL) {};
    	\path (Run.east |- Run.south)+(0.25,-1.3) node(resBR) {};
    	\path [rounded corners, draw=black!50, dashed] (resUL) rectangle (resBR);
		\path (Run.east |- Run.south)+(-1.4,-1.1) node [text=black!70] {Configuration Task};

    \end{pgfonlayer}
	
\end{tikzpicture}